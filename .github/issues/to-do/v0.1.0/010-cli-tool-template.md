---
title: "Create CLI tool template script"
labels:
  - "type: feature"
  - "priority: p0"
  - "effort: medium"
  - "milestone: 0.1.0"
---

# Create CLI tool template script

## Description

Create the `templates/cli-tool.template` file that serves as the basis for generating the personalized CLI tool. This template will be customized with the user's assistant name and provide basic command functionality.

## Acceptance Criteria

- [ ] Template file `templates/cli-tool.template` created
- [ ] Template uses variables: `${ASSISTANT_NAME}`, `${AIDE_VERSION}`, etc.
- [ ] Template includes proper bash shebang and error handling
- [ ] Template implements command routing structure
- [ ] Template includes basic commands: status, help, version
- [ ] Template has placeholder for extended commands
- [ ] Template includes helpful comments for customization
- [ ] Template handles unknown commands gracefully
- [ ] Generated CLI tool is executable and functional

## Implementation Notes

**Template Structure:**
```bash
#!/bin/bash
# ${ASSISTANT_DISPLAY_NAME} - Personal AI Assistant CLI
# Generated by AIDA framework v${AIDE_VERSION}
# Generated on: ${INSTALL_DATE}

set -e  # Exit on error

# Configuration
ASSISTANT_NAME="${ASSISTANT_NAME}"
AIDE_VERSION="${AIDE_VERSION}"
AIDE_HOME="$HOME/.claude"
AIDE_FRAMEWORK="$HOME/.aida"

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Helper functions
error() {
    echo -e "${RED}Error: $1${NC}" >&2
    exit 1
}

success() {
    echo -e "${GREEN}✓ $1${NC}"
}

info() {
    echo -e "${BLUE}$1${NC}"
}

warn() {
    echo -e "${YELLOW}⚠ $1${NC}"
}

# Check if AIDA is installed
check_installation() {
    if [[ ! -d "$AIDE_HOME" ]]; then
        error "AIDA is not installed. Please run install.sh first."
    fi
}

# Show status
show_status() {
    info "=== ${ASSISTANT_DISPLAY_NAME} Status ==="
    echo ""

    echo "Version: ${AIDE_VERSION}"
    echo "Installation: $AIDE_HOME"

    if [[ -f "$AIDE_HOME/config/personality.yaml" ]]; then
        local personality=$(grep "name:" "$AIDE_HOME/config/personality.yaml" | head -1 | cut -d'"' -f2)
        echo "Personality: $personality"
    fi

    if [[ -f "$AIDE_HOME/memory/context.md" ]]; then
        local last_update=$(grep "Last updated:" "$AIDE_HOME/memory/context.md" | head -1 | cut -d':' -f2-)
        echo "Last context update:$last_update"
    fi

    echo ""

    # Quick health check
    local issues=0

    if [[ ! -f "$HOME/CLAUDE.md" ]]; then
        warn "CLAUDE.md not found in home directory"
        ((issues++))
    fi

    if [[ ! -f "$AIDE_HOME/knowledge/procedures.md" ]]; then
        warn "Procedures file missing"
        ((issues++))
    fi

    if [[ $issues -eq 0 ]]; then
        success "All systems operational"
    else
        warn "Found $issues issues"
    fi
}

# Show help
show_help() {
    cat << EOF
${ASSISTANT_DISPLAY_NAME} - Your Personal AI Assistant

Usage: ${ASSISTANT_NAME} [command] [arguments]

Basic Commands:
  status              Show system status and health check
  help                Show this help message
  version             Show AIDA version

Note: ${ASSISTANT_DISPLAY_NAME} is designed to work with Claude AI.
For full functionality, use these commands in a conversation with Claude
via Claude Code, Claude Desktop, or chat interface.

For more information, see ~/CLAUDE.md

Examples:
  ${ASSISTANT_NAME} status
  ${ASSISTANT_NAME} help
  ${ASSISTANT_NAME} version

EOF
}

# Show version
show_version() {
    echo "AIDA v${AIDE_VERSION}"
    echo "Assistant: ${ASSISTANT_DISPLAY_NAME}"
    echo "Installation: $AIDE_HOME"
}

# Main command router
main() {
    # Check installation first
    check_installation

    # Handle commands
    case "${1:-}" in
        "status")
            show_status
            ;;
        "help"|"--help"|"-h")
            show_help
            ;;
        "version"|"--version"|"-v")
            show_version
            ;;
        "")
            # No command provided
            show_help
            ;;
        *)
            # Unknown command
            warn "Command not recognized: $1"
            echo ""
            echo "Use '${ASSISTANT_NAME} help' for available commands"
            echo ""
            info "Tip: Most ${ASSISTANT_NAME} commands are meant to be used"
            info "in conversation with Claude AI, not directly from terminal."
            exit 1
            ;;
    esac
}

# Run main function
main "$@"
```

**Variables Used:**
- `${ASSISTANT_NAME}` - lowercase assistant name (e.g., "jarvis")
- `${ASSISTANT_DISPLAY_NAME}` - capitalized name (e.g., "JARVIS")
- `${AIDE_VERSION}` - AIDA framework version
- `${INSTALL_DATE}` - Installation timestamp

**Extensibility:**
- Clear structure for adding new commands
- Placeholder sections for future functionality
- Comments indicate where to add features

## Dependencies

- #002 (Template system for variable substitution)

## Related Issues

- #003 (CLI tool generation uses this template)
- #004 (PATH configuration makes CLI accessible)
- #012 (Extended commands will be added later)

## Definition of Done

- [ ] Template file created and well-structured
- [ ] All variables are properly defined
- [ ] Generated CLI tool is executable
- [ ] Basic commands (status, help, version) work
- [ ] Error handling is robust
- [ ] Help text is clear and useful
- [ ] Code is well-commented for future customization
- [ ] Works on both macOS and Linux
